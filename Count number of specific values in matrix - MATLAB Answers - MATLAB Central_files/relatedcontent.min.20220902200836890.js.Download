var mwRelatedContentLib=mwRelatedContentLib||{};mwRelatedContentLib.init=function(a){new mwRelatedContent(a)};
function mwRelatedContent(a){this.ajax=null;this.cacheRequests=this.async=!0;this.cores=this.primaryCore=null;this.debug=!1;this.filterQuery=this.defaultThumbnailImg=null;this.fields=["url","title_en","summary"];this.heading="Related Questions";this.excludeIDs=this.itemUrl=this.itemID=null;this.isBusy=!1;this.itemTemplate='\x3cdiv class\x3d"mwRelatedContentItem"\x3e\x3ca href\x3d"{{url}}" class\x3d"mwContentItemLink" title\x3d"{{assetTitle}}"\x3e {{assetTitle}} \x3c/a\x3e\x3cp class\x3d"mwContentItemText"\x3e{{summary}}\x3c/p\x3e\x3c/div\x3e';this.markup=
null;this.maxDescriptionLength=255;this.maxTitleLength=100;this.maxSummaryLength=75;this.rows=1;this.serviceUrl=this.serviceHostName=null;this.showHeading=this.showMainHeading=!1;this.startAt=1;this.filters=this.unHideIds=this.tracking=this.targetElementClassName=null;this.debug&&this.log("init");if(a.targetElementClassName)if(this.targetElementClassName=a.targetElementClassName,this.serviceHostName=a.serviceHostName?a.serviceHostName:window.location.host,a.serviceUrl)if(this.serviceUrl=a.serviceUrl,
a.primaryCore)if(this.primaryCore=a.primaryCore,a.cores)if(this.cores=a.cores,a.itemUrl||a.itemID){a.itemUrl&&(this.itemUrl=a.itemUrl);a.itemID&&(this.itemID=a.itemID);a.excludeIDs&&(this.excludeIDs=a.excludeIDs);a.cacheRequests&&(this.cacheRequests=a.cacheRequests);a.maxDescriptionLength&&(this.maxDescriptionLength=a.maxDescriptionLength);a.maxSummaryLength&&(this.maxSummaryLength=a.maxSummaryLength);a.maxTitleLength&&(this.maxTitleLength=a.maxTitleLength);a.debug&&(this.debug=a.debug);a.rows&&(this.rows=
a.rows);a.async&&(this.async=a.async);a.itemTemplate&&(this.itemTemplate=a.itemTemplate);a.fields&&(this.fields=a.fields);a.showMainHeading&&(this.showMainHeading=a.showMainHeading);a.heading&&(this.heading=a.heading);a.showHeading&&(this.showHeading=a.showHeading);a.defaultThumbnailImg&&(this.defaultThumbnailImg=a.defaultThumbnailImg);a.unHideIds&&(this.unHideIds=a.unHideIds);a.filters&&(this.filters=a.filters);if(a.tracking&&(this.tracking=a.tracking,this.tracking.length!==this.rows||"[object Array]"!==
Object.prototype.toString.call(a.tracking))){this.log("Exception: Given tracking is not an Array or length of array is not equal to number of rows requested");return}this.xhr();this.getRelatedContent()}else this.log("Exception: Missing required item url or ID");else this.log("Exception: this.cores : Missing required cores");else this.log("Exception: Missing required source core");else this.log("Exception: this.serverUrl : Missing required service url");else this.log("Exception: this.targetElementClassName : No target element provided")}
mwRelatedContent.prototype.getRelatedContent=function(){this.debug&&this.log("getRelatedContent");if(this.ajax){this.isBusy=!0;var a=this;this.ajax.onreadystatechange=function(){a.debug&&a.log("serviceStateChange");4===a.ajax.readyState&&200===a.ajax.status?a.render():a.debug&&a.log("Error: _self.ajax status : "+a.ajax.status);a.isBusy=!1;a.serviceReqestComplete()};this.ajax.open("GET",this.getUrl(),this.async);this.ajax.send()}else this.log("Exception: this.getRelatedContent : Cannot make requestion. No xmlhttp object")};
mwRelatedContent.prototype.log=function(a){console.log(a)};
mwRelatedContent.prototype.render=function(){this.debug&&this.log("render");var a=JSON.parse(this.ajax.responseText);if(!a.docs||1>a.docs.length){if(this.debug&&this.log("Info: this.render : No related documents found or service returned no data."),null!==this.unHideIds||void 0!==this.unHideIds)for(a=0;a<this.unHideIds.length;a++){var c=document.getElementById(this.unHideIds[a]);null===c&&void 0===c||c.classList.remove("hidden")}}else{this.markup=document.createElement("div");this.showMainHeading&&
null===document.getElementById("main-heading-2")&&(document.getElementById("main-heading-1").className="main-heading");if(this.showHeading){var e=document.createElement("p");e.setAttribute("class","mwRelatedContent_heading");e.innerHTML=this.heading;this.markup.appendChild(e)}e=a.docs.length;for(var g=0;g<e;g++){for(var b=a.docs[g],f=this.itemTemplate,h=0;h<this.fields.length;h++){var d=this.fields[h];"url"!==d||null===this.tracking&&void 0===this.tracking||(Array.isArray(b.methods_used)&&(b.methods_used=
"BOTH"),-1<b[d].indexOf("?")?b[d]=b[d]+"\x26s_tid\x3d"+this.tracking[g]+"_"+b.methods_used:b[d]=b[d]+"?s_tid\x3d"+this.tracking[g]+"_"+b.methods_used);if(d.match(/title*/)){if(void 0===b[d]||null===b[d])continue;b[d]=this.trimString(b[d],this.maxTitleLength);b[d]=String(b[d]).replace(/</g,"\x26lt;").replace(/>/g,"\x26gt;");var k=/assetTitle/g;f=f.replace(k,d)}"summary"===d&&(b[d]=this.trimString(b[d],this.maxSummaryLength));"description"===d&&(b[d]=this.trimString(b[d],this.maxDescriptionLength));
"answers_count"===d&&(b[d]=1===b[d]?b[d]+" Answer":b[d]+" Answers");"asked_by"===d&&(b["mathworks-support-membrane"]="MathWorks Support Team"===b[d]?'\x3cspan title\x3d"Authored by MathWorks Support" class\x3d"icon-membrane icon_16"\x3e\x3c/span\x3e':"",d="mathworks-support-membrane");if("subcollection"===d)try{if(c=b.subcollection.toString(),-1<c.indexOf("answers"))b.subcollection="Answers";else if(-1<c.indexOf("latestdoc"))b.subcollection="Documentation";else if(-1<c.indexOf("fileexchange"))b.subcollection=
"File Exchange";else if(-1<c.indexOf("blogs"))b.subcollection="Blogs";else if(-1<c.indexOf("products"))b.subcollection="Products";else if(-1<c.indexOf("linkexchange"))b.subcollection="Link Exchange";else if(-1<c.indexOf("bugreports"))b.subcollection="Bug Reports";else if(-1<c.indexOf("technical_articles"))b.subcollection="Technical Articles and Newsletters";else if(-1<c.indexOf("newsroom"))b.subcollection="Newsroom";else if(-1<c.indexOf("jobs"))b.subcollection="Careers";else if(-1<c.indexOf("contest"))b.subcollection=
"MATLAB Contest";else if(-1<c.indexOf("matlabcentral"))b.subcollection="Community";else if(-1<c.indexOf("user_stories"))b.subcollection="User Stories";else if(-1<c.indexOf("company"))b.subcollection="Company";else if(-1<c.indexOf("videos"))b.subcollection="Videos";else if(-1<c.indexOf("academia"))b.subcollection="Academia";else if(-1<c.indexOf("books"))b.subcollection="MATLAB \x26 Simulink Based Books";else if(-1<c.indexOf("user_stories"))b.subcollection="User Stories";else if(-1<c.indexOf("connections"))b.subcollection=
"Third-Party Products \x26 Services";else if(-1<c.indexOf("consulting"))b.subcollection="Consulting";else if(-1<c.indexOf("training"))b.subcollection="Training";else if(-1<c.indexOf("discovery"))b.subcollection="Discover";else if(-1<c.indexOf("downloads"))b.subcollection="Downloads";else if(-1<c.indexOf("events"))b.subcollection="Events";else if(-1<c.indexOf("moler"))b.subcollection="Textbooks by Cleve Moler";else if(-1<c.indexOf("hardware-support"))b.subcollection="Hardware Support";else if(-1<c.indexOf("makerzone"))b.subcollection=
"MakerZone";else if(-1<c.indexOf("matlabexpo"))b.subcollection="MATLAB EXPO";else if(-1<c.indexOf("mobile"))b.subcollection="MATLAB Mobile";else if(-1<c.indexOf("mwaccount"))b.subcollection="MathWorks Account";else if(-1<c.indexOf("trial"))b.subcollection="Product Trials";else if(-1<c.indexOf("pricing-licensing"))b.subcollection="Pricing";else if(-1<c.indexOf("solutions"))b.subcollection="Solutions";else if(-1<c.indexOf("store"))b.subcollection="Store";else if(-1<c.indexOf("matlabacademy"))b.subcollection=
"MATLAB Academy";else if(-1<c.indexOf("topic_based_community"))b.subcollection="Communities";else{if("undefined"!==typeof b.url.split(".com/")[1])unknownSubcollection=b.url.split(".com/")[1].split("/")[0];else if(""!==b.url.split("/")[1])unknownSubcollection=b.url.split("/")[1];else throw Error("subcollection could not be extracted from URL");b.subcollection=unknownSubcollection.charAt(0).toUpperCase()+unknownSubcollection.slice(1)}}catch(l){this.log("Exception:"+l.message),b.subcollection="MathWorks"}k=
new RegExp("{{"+d+"}}","g");f=f.replace(k,b[d])}b=document.createElement("div");b.innerHTML=f;this.defaultThumbnailImg&&(f=b.getElementsByTagName("img"))&&0<f.length&&(f[0].onerror=function(){this.onerror=null;this.src=this.defaultThumbnailImg});this.markup.appendChild(b)}a=document.getElementsByClassName(this.targetElementClassName);for(c=0;c<a.length;c++)e=this.markup.cloneNode(!0),a[c].appendChild(e)}};mwRelatedContent.prototype.serviceReqestComplete=function(){this.debug&&this.log("serviceReqestComplete")};
mwRelatedContent.prototype.trimString=function(a,c){return a?a.length>c?a.substr(0,c)+"...":a:a};
mwRelatedContent.prototype.getUrl=function(){var a="";this.cacheRequests&&(a="\x26t\x3d"+Math.random());var c=window.location.protocol+"//"+this.serviceHostName+this.serviceUrl;c=c+"?primaryCore\x3d"+this.primaryCore;c=null!==this.itemID?c+"\x26id\x3d"+this.itemID:c+"\x26url\x3d"+this.itemUrl;if(null!==this.filters)for(var e=0;e<this.filters.length;e++)c=c+"\x26fq[]\x3d"+this.filters[e];c=c+"\x26rows\x3d"+this.rows;c=c+"\x26cores\x3d"+this.cores.join();c=c+"\x26fl\x3d"+this.fields.join();c=c+"\x26fq[]\x3d-asset_id:("+
this.excludeIDs+")";return c+"\x26wt\x3djson"+a};mwRelatedContent.prototype.xhr=function(){this.debug&&this.log("xhr");this.ajax=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")};